<%- include('includes/header.ejs') %>
</head>
<body>
    <%- include('includes/navigation.ejs')  %>    
    <main class="px-24 py-10">

        <h2 class="text-black text-2xl not-italic font-bold mb-5">Ban</h2>
        <form action="/table/add-table-to-cart" method="post">
            <% if (tables.length > 0) { %>
                <div class="flex gap-20">
                    <% tables.forEach(table => { %>
                        <div class="flex w-56 flex-col items-start gap-5">
                            <div class="image">
                                <img class="w-56 h-48" src="/images/6cfbfa0af88fa50a9d19459774cdf677.png" alt="">
                            </div>
                            <div class="title text-black text-left font-bold"><span>So luong : </span><%= table.seats %></div>
                            <div class="flex justify-between items-center self-stretch">
                                <span class="price"><%= table.current_status ? 'Con trong' : 'Da duoc dat' %></span>
                                <% if (table.current_status){ %>
                                    <input type="checkbox" id="table" name="tableId" class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600" value="<%= table.ID  %>"></input>
                                <% } %>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } else { %>
                <h2>KHONG CON BAN</h2>
            <% } %>
            <div class="customer mt-20">
                <h2 class="mb-3">THONG TIN KHACH HANG</h2>
                <div class="mb-3">
                    <label for="nameCustomer">Ten</label><br>
                    <input class="p-1 border w-[500px]" type="text" id="nameCustomer" name="nameCustomer">
                </div>
                <div class="mb-3">
                    <label for="addressCustomer">Dia chi</label><br>
                    <input class="p-1 border w-[500px]" type="text" id="addressCustomer" name="addressCustomer">
                </div>
                <div class="mb-3">
                    <label for="startDate">Ngay dat</label><br>
                    <input class="p-1 border w-[500px]" type="date" id="startDate" name="startDate">
                </div>
                <div class="mb-3">
                    <label for="startTime">Gio bat dau</label><br>
                    <input class="p-1 border w-[500px]" type="time" id="startTime" name="startTime">
                </div>
                <div class="mb-3">
                    <label for="endTime">Gio ket thuc</label><br>
                    <input class="p-1 border w-[500px]" type="time" id="endTime" name="endTime">
                </div>
            </div>
            <button type="submit" class="py-2 px-10 rounded-lg bg-purple-800 text-white text-center text-sm not-italic font-medium leading-5 float-right">Dat</button>
        </form>
    </main>
    <script>
        const inputCheckboxes = document.querySelectorAll('input[type="checkbox"]');

        for (let i = 0; i < inputCheckboxes.length; i++){
            inputCheckboxes[i].onclick = function() {
                for (let j = 0; j < inputCheckboxes.length; j++) {
                    if (j !== i) {
                        inputCheckboxes[j].checked = false;
                    }
                }
            };
        }
    </script>
<%- include('includes/end.ejs') %>